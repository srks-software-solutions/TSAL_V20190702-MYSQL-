@model Tata.Models.tbluser
@{
    ViewBag.Title = "Create";
}

@using (Html.BeginForm("Create", "Login"))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)  
<div class="wrp clearfix" >@*style="background-color:red" box outside create role*@
    <div class="fluid">
        <div class="widget col-md- grid12">
            <div class="widget-header" style="background-color:red">
                <div class="widget-title"  >
                    Create User
                </div>
            </div>
            <!-- /widget-header -->
            <div id="ErrorBlock">
                        @if (Session["Error"] != null)
                        {
                            <pre>
<span style="font-family:Calibri">@Session["Error"]</span>
                    </pre>
                        }
                        @{
                            Session["Error"] = null;
                        }
                    </div>
            <div class="widget-content pad20f">

                 <label for="input-1" class="stacked-label" style="resize: horizontal; width: 20%; color:blue;font-style:oblique">UserName</label>
                 @Html.TextBoxFor(model => model.UserName, new { @id = "UserName", @class = "form-control", @name = "UserName ", style = "width:89.7%", @placeholder = "User Name", @required = "required" })
                 @Html.ValidationMessageFor(model => model.UserName)
                   
                 <label for="input-2" class="stacked-label" style="resize: horizontal; width: 20%; color:blue;font-style:oblique">Password</label>
                  @Html.PasswordFor(model => model.Password, new { @id = "Password", @class = "form-control", @name = "Password ", style = "width:89.7%", @placeholder = "Password ", @required = "required" })
                  @Html.ValidationMessageFor(model => model.Password)
                      
                 <label for="input-2" class="stacked-label" style="resize: horizontal; width: 20%; color:blue;font-style:oblique">DisplayName</label>
                 @Html.TextBoxFor(model => model.DisplayName, new { @id = "DisplayName", @class = "form-control", style = "width:89.7%", @name = "DisplayName", @placeholder = "DisplayName", @required = "required" })
                 @Html.ValidationMessageFor(model => model.DisplayName)

                      
                 <label for="input-2" class="stacked-label" style="resize: horizontal; width: 20%; color:blue;font-style:oblique">Primary Role</label>
                  @Html.DropDownList("PrimaryRole", (SelectList)ViewData["PrimaryRole"], "--Select Primary Role--", new { @id = "RoleID1", @class = "dropdown form-control red dropdown-toggle",style = "width:89.7%;", @name = "RoleID", @required = "required"})
                  @Html.ValidationMessageFor(model => model.PrimaryRole)
                     
                <br />
                 
                 <label for="input-2" class="stacked-label" style="resize: horizontal; width: 20%; color:blue;font-style:oblique">Secodary Role</label>
                  @Html.DropDownList("SecondaryRole", (SelectList)ViewData["SecondaryRole"], "--Select Secondry Role--", new { @id = "RoleID2", @class = "dropdown form-control red dropdown-toggle", style = "width:89.7%",@name = "RoleID", })
                  @Html.ValidationMessageFor(model => model.SecondaryRole)

                <br />

                <div id="machine">
                <label for="input-2" class="stacked-label" style="resize: horizontal; width: 20%; color:blue;font-style:oblique">Machine</label>
                  @Html.DropDownList("MachineID", (SelectList)ViewData["MachineID"], "--Select Machine--", new { @id = "machine1", @class = "dropdown form-control red dropdown-toggle", style = "width:89.7%",@name = "RoleID", })
                  @Html.ValidationMessageFor(model => model.MachineID)
                 </div>

                 <div style="width: 3%; display: inline-block; height: inherit"></div>
                    @Html.ActionLink(" Back ", "Index", new { }, new { @class = "btn stacked-input fa fa-reply fa-1x", @style = "text-decoration:none;display:inline-block;color:black" })
                    <div style="width: 20%; display: inline-block; height: inherit"></div>
                    <input type="submit" value="Create" class="btn orange btn-lg" style="width: 30%; display: inline-block; height: inherit;margin-top:2%;background-color:orange;color:black;font-size:95%"/>

            </div>
            <!-- /widget-content -->
        </div>
        <!-- /widget -->
    </div> <!-- /Class-fluid-->
</div>
 
}

<script src="~/js/jquery-2.1.4.min.js"></script>
<script type="text/jscript">
    $(document).ready(function () {
        //debugger;
        //debugger;
        if ($('#RoleID1 option:selected').text() != "operator") {
            $("#machine").css('display', 'None');
            $("#machine1").prop("required", false);
        }
        else {
            $("#machine").css('display', 'block');
            $("#machine1").prop("required", true);
        }

        $("#RoleID1").change(function () {
           // alert("j")
            if ($('#RoleID1 option:selected').text() != "operator") {
                $("#machine").css('display', 'None');
                $("#machine1").prop("required", false);
            }
            else {
                $("#machine").css('display', 'block');
                $("#machine1").prop("required", true);
            }
        });
    });
</script>

<script>
    setTimeout(function () {
        $('#ErrorBlock').fadeOut('slow');
    }, 15000); // <-- time in milliseconds
</script>